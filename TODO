You were creating a level of abstraction for the vga driver. Code is in an inconsitient state
Find how the linux kernel does printk and emulate it!
